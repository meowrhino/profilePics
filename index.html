<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>profile pics</title>
    <style>
        body {
            text-align: center;
            font-family: sans-serif;

            display: flex;
            flex-direction: column;
            justify-content: center;

            margin: 0;
        }

        .gallery {
            display: flex;
            white-space: nowrap;
            gap: 50px;
            overflow: scroll;
        }

        .profilePic {
            width: 512px;
            height: 512px;
        }

        .text {
            max-width: 820px;
            margin-left: auto;
            margin-right: auto;
            padding: 40px, 0px;
        }
    </style>
</head>

<body>

    <div class="text">
        <h1>
            my gallery
        </h1>
        <h3>
            I love to upload images that I find relatable to my Telegram profile, and from time to time I indulge in
            scrolling through them and
            find patterns, today I found out that the first one was lost due to the 100 max
            photos limit (Telegram just did it automatically) so I wanted to create an archive to
            save them forever and be able to store more than just a couple of them
        </h3>
    </div>

    <div class="gallery">
    </div>

    <div class="text">
        <p>you may scroll through all of these</p>
    </div>

    <script>
        //this should be updated with js but well we'll get there
        const cantidadDeFotos = 140;
        const imgWidth = 512;
        const imgGap = 50;

        const gallery = document.querySelector(".gallery");
        let screenWidth = document.documentElement.scrollWidth;

        function calculateMargin() {
            //this way each time you call the function this value is updated
            screenWidth = document.documentElement.scrollWidth;

            let marginToAdd = screenWidth / 2 - imgWidth / 2 - imgGap;
            return marginToAdd;
        }

        //and this function will create an empty div, we'll just call it before the loop that loads the pictures and after it

        function addScrollMargin() {
            let margin = document.createElement("div");
            margin.classList.add("galleryMargin");
            margin.style.margin = `${calculateMargin() / 2}px`;

            gallery.appendChild(margin);
        }

        addScrollMargin();

        for (i = cantidadDeFotos; i > 0; i--) {
            let image = document.createElement("img");
            image.src = `img/${i}.PNG`;
            image.classList.add("profilePic");
            gallery.appendChild(image);
        }

        addScrollMargin();

        //in case the window is resized this will run so that the margins stay their correct size
        //this has to be done with a loop bc we need to change both the start and end margins (thats why we use querySelectorAll)

        addEventListener("resize", (event) => { });
        onresize = (event) => {
            let galleryMargin = document.querySelectorAll(".galleryMargin");
            
            for (let i = 0; i < galleryMargin.length; i++) {
                galleryMargin[i].style.margin = `${calculateMargin() / 2}px`;
            }
        };

    </script>
</body>

</html>